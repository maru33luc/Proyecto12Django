{% extends 'clinica_app/admin/base.html' %}

{% block content %}
<main>
  <div class="container mt-5">
  <h2>Turnos disponibles por doctor</h2>

  <div class="row">
    <div class="col-md-6">
      <form method="POST">
        {% csrf_token %}
        {{ form.as_p }}

        <button type="submit" class="btn btn-primary mt-3">Add Availability</button>
      </form>
    </div>

    <div class="col-md-6">
      <h3>Turnos disponibles</h3>
      <table class="table table-hover">
        <thead>
          <tr>
            <th>Doctor</th>
            <th>DÃ­a</th>
            <th>Desde</th>
            <th>Hasta</th>
            <th>Estado</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          {% for slot in slot_list %}
            <tr>
              <td>{{ slot.doctor }}</td>
              <td>{{ slot.date }}</td>
              <td>{{ slot.start_time }}</td>
              <td>{{ slot.end_time }}</td>
              <td>{{ slot.get_status_display }}</td>
              <td>
                <a href="{% url 'edit_availability' slot.doctor_id %}" class="btn btn-sm btn-outline-secondary">Editar</a>
                <a href="{% url 'delete_availability' slot.doctor_id %}" class="btn btn-sm btn-outline-danger">Borrar</a>
              </td>
            </tr>
          {% empty %}
            <tr>
              <td colspan="5">No availability found.</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
  </div>
</main>
{% endblock %}


